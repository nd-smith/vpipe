# =============================================================================
# PRODUCTION ENVIRONMENT - EXTERNAL KAFKA CLUSTER
# Use with: docker-compose up -d (NO --profile kafka)
# =============================================================================
# This configuration connects to an external/managed Kafka cluster

# =============================================================================
# KAFKA CONNECTION - EXTERNAL CLUSTER
# =============================================================================
# External Kafka broker addresses
KAFKA_BOOTSTRAP_SERVERS=kafka-broker-1.example.com:9092,kafka-broker-2.example.com:9092,kafka-broker-3.example.com:9092

# Security configuration (adjust based on your Kafka setup)
# Options: PLAINTEXT, SSL, SASL_PLAINTEXT, SASL_SSL
KAFKA_SECURITY_PROTOCOL=SASL_SSL

# SASL mechanism (PLAIN, SCRAM-SHA-256, SCRAM-SHA-512, OAUTHBEARER)
KAFKA_SASL_MECHANISM=SCRAM-SHA-256

# SASL credentials for Kafka authentication
KAFKA_SASL_USERNAME=<kafka-username>
KAFKA_SASL_PASSWORD=<kafka-password>

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================
ENVIRONMENT=production
LOG_LEVEL=INFO
JSON_LOGS=true

# =============================================================================
# CACHE AND STORAGE
# =============================================================================
CACHE_DIR=/app/cache

# =============================================================================
# OBSERVABILITY (PRODUCTION)
# =============================================================================
METRICS_PORT=8000
LOG_UPLOAD_ENABLED=true
LOG_UPLOAD_INTERVAL_CYCLES=10
LOG_RETENTION_DAYS=7

# Tracing endpoint (optional)
JAEGER_ENDPOINT=http://jaeger-collector:4317
OPENTRACING_TRACES_SAMPLER=traceidratio

# =============================================================================
# WORKER CONFIGURATION (PRODUCTION TUNING)
# =============================================================================
DOWNLOAD_CONCURRENCY=10
DOWNLOAD_BATCH_SIZE=20
DOWNLOAD_TIMEOUT_SECONDS=60
UPLOAD_CONCURRENCY=10
UPLOAD_BATCH_SIZE=20

# =============================================================================
# RETRY CONFIGURATION
# =============================================================================
RETRY_DELAYS=300,600,1200,2400
MAX_RETRIES=4

# =============================================================================
# AZURE CONFIGURATION (PRODUCTION VALUES)
# =============================================================================
AZURE_WORKSPACE_ID=<your-prod-workspace-id>
AZURE_LAKEHOUSE_ID=<your-prod-lakehouse-id>
AZURE_TENANT_ID=<your-prod-tenant-id>
AZURE_CLIENT_ID=<your-prod-client-id>
AZURE_CLIENT_SECRET=<your-prod-client-secret>

# OneLake paths
ONELAKE_BASE_PATH=abfss://<workspace-id>@onelake.dfs.fabric.microsoft.com/<lakehouse-id>/Files/veriskPipeline

# Eventhouse
EVENTHOUSE_CLUSTER_URL=https://<your-cluster>.z8.kusto.fabric.microsoft.com
CLAIMX_EVENTHOUSE_DATABASE=<prod_claimx_database>
CLAIMX_EVENTHOUSE_SOURCE_TABLE=<prod_claimx_events_table>
XACT_EVENTHOUSE_DATABASE=<prod_xact_database>
XACT_EVENTHOUSE_SOURCE_TABLE=<prod_xact_events_table>

# ClaimX API (PRODUCTION CREDENTIALS)
CLAIMX_API_USERNAME=<prod-username>
CLAIMX_API_PASSWORD=<prod-password>
CLAIMX_API_TOKEN=Basic <prod-base64-token>

# Delta Lake Tables (PRODUCTION)
CLAIMX_DELTA_EVENTS_TABLE=abfss://<workspace>@onelake.dfs.fabric.microsoft.com/<lakehouse>/Tables/dbo/claimx_events
CLAIMX_DELTA_INVENTORY_TABLE=abfss://<workspace>@onelake.dfs.fabric.microsoft.com/<lakehouse>/Tables/dbo/claimx_attachments
CLAIMX_DELTA_PROJECTS_TABLE=abfss://<workspace>@onelake.dfs.fabric.microsoft.com/<lakehouse>/Tables/dbo/claimx_projects
CLAIMX_DELTA_CONTACTS_TABLE=abfss://<workspace>@onelake.dfs.fabric.microsoft.com/<lakehouse>/Tables/dbo/claimx_contacts
CLAIMX_DELTA_MEDIA_TABLE=abfss://<workspace>@onelake.dfs.fabric.microsoft.com/<lakehouse>/Tables/dbo/claimx_attachments_metadata
CLAIMX_DELTA_TASKS_TABLE=abfss://<workspace>@onelake.dfs.fabric.microsoft.com/<lakehouse>/Tables/dbo/claimx_tasks
CLAIMX_DELTA_TASK_TEMPLATES_TABLE=abfss://<workspace>@onelake.dfs.fabric.microsoft.com/<lakehouse>/Tables/dbo/claimx_task_templates
CLAIMX_DELTA_EXTERNAL_LINKS_TABLE=abfss://<workspace>@onelake.dfs.fabric.microsoft.com/<lakehouse>/Tables/dbo/claimx_external_link
CLAIMX_DELTA_VIDEO_COLLAB_TABLE=abfss://<workspace>@onelake.dfs.fabric.microsoft.com/<lakehouse>/Tables/dbo/claimx_video_collab
XACT_DELTA_EVENTS_TABLE=abfss://<workspace>@onelake.dfs.fabric.microsoft.com/<lakehouse>/Tables/dbo/xact_events
XACT_DELTA_INVENTORY_TABLE=abfss://<workspace>@onelake.dfs.fabric.microsoft.com/<lakehouse>/Tables/dbo/xact_attachments
ITEL_DELTA_FORMS_TABLE=abfss://<workspace>@onelake.dfs.fabric.microsoft.com/<lakehouse>/Tables/dbo/claimx_itel_forms
ITEL_DELTA_ATTACHMENTS_TABLE=abfss://<workspace>@onelake.dfs.fabric.microsoft.com/<lakehouse>/Tables/dbo/claimx_itel_attachments
