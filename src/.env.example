# =============================================================================
# Example .env Configuration for Local Development
# =============================================================================
# Copy this file to .env and fill in your actual values.
# .env is gitignored and should NEVER be committed.
#
# This file demonstrates Event Hub configuration as the primary transport.
# =============================================================================

# =============================================================================
# TRANSPORT CONFIGURATION
# =============================================================================
# Select transport: "eventhub" (default) or "kafka"
# Event Hub is required for Azure Private Link (exposes AMQP port 443 only)
PIPELINE_TRANSPORT=eventhub

# =============================================================================
# EVENT HUB CONNECTION (AMQP TRANSPORT)
# =============================================================================
# Namespace-level connection string (NO EntityPath).
# One secret manages access to ALL Event Hubs in the namespace.
# Entity names and consumer groups are defined per-topic in config.yaml.
#
# Format: Endpoint=sb://<namespace>.servicebus.windows.net/;
#         SharedAccessKeyName=<policy-name>;
#         SharedAccessKey=<key>
#
# NOTE: Do NOT include EntityPath â€” it is resolved per-topic from config.yaml.
EVENTHUB_NAMESPACE_CONNECTION_STRING=Endpoint=sb://eh-0418b0006320-eus2-pcesdopodappv1.servicebus.windows.net/;SharedAccessKeyName=eventhub-auth-rule-pcesdopodappv1;SharedAccessKey=<your-key-here>

# Default consumer group (used when not specified per-topic in config.yaml)
# EVENTHUB_DEFAULT_CONSUMER_GROUP=$Default

# =============================================================================
# SSL/TLS CONFIGURATION FOR LOCAL DEV
# =============================================================================
# Enable SSL verification bypass for corporate proxy with self-signed CA
# WARNING: ONLY use this locally! NEVER in production!
DISABLE_SSL_VERIFY=true

# =============================================================================
# REMOVED: KAFKA CONFIGURATION
# =============================================================================
# Kafka has been removed from the pipeline - EventHub is used for all transport.
# See PHASE_3_KAFKA_REMOVAL.md for migration details.

# =============================================================================
# AZURE AUTHENTICATION
# =============================================================================
# Required for Delta Lake writes to OneLake and Eventhouse queries
AZURE_TENANT_ID=your-tenant-id
AZURE_CLIENT_ID=your-client-id
AZURE_CLIENT_SECRET=your-client-secret

# =============================================================================
# DELTA LAKE TABLE PATHS
# =============================================================================
# OneLake paths for Delta tables (abfss:// URLs)
XACT_DELTA_EVENTS_TABLE=abfss://7729c159-0674-42ba-abf7-a6756723c62f@onelake.dfs.fabric.microsoft.com/584315ee-2f41-4943-949f-901d438bcd36/Tables/dbo/xact_events
XACT_DELTA_INVENTORY_TABLE=abfss://7729c159-0674-42ba-abf7-a6756723c62f@onelake.dfs.fabric.microsoft.com/584315ee-2f41-4943-949f-901d438bcd36/Tables/dbo/xact_attachments

# =============================================================================
# EVENTHOUSE CONFIGURATION
# =============================================================================
# Microsoft Fabric Eventhouse for event source (if EVENT_SOURCE=eventhouse)
EVENT_SOURCE=eventhouse
EVENTHOUSE_CLUSTER_URL=https://trd-atjd28cdnn65pbxjek.z8.kusto.fabric.microsoft.com
XACT_EVENTHOUSE_DATABASE=VERISK_XACTANALYSIS_DB
XACT_EVENTHOUSE_SOURCE_TABLE=tbl_VERISK_XACTANALYSIS_STATUS_EXPORT

# =============================================================================
# ITEL CABINET API (OAuth2 Client Credentials)
# =============================================================================
# Required for iTel Cabinet API worker.
# QA environment values shown below; production will differ.
ITEL_CABINET_API_BASE_URL=https://api.qa.itelinc.net/cabinet-repair-orv
ITEL_CABINET_API_CLIENT_ID=your-client-id
ITEL_CABINET_API_CLIENT_SECRET=your-client-secret
ITEL_CABINET_API_TOKEN_URL=https://login.microsoftonline.com/36373184-6744-448a-84c2-6fbe7d1860e6/oauth2/v2.0/token
ITEL_CABINET_API_SCOPE=your-scope
ITEL_CABINET_API_CARRIER_ID=124AA1A3-B648-49B9-8028-2493BE79AD48
ITEL_CABINET_API_SUBSCRIPTION_ID=7ff57f13563a4bed9eeddd735028976d

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO
LOG_TO_STDOUT=true

# =============================================================================
# STORAGE
# =============================================================================
CACHE_DIR=/tmp/pipeline_cache
ONELAKE_BASE_PATH=abfss://7729c159-0674-42ba-abf7-a6756723c62f@onelake.dfs.fabric.microsoft.com/584315ee-2f41-4943-949f-901d438bcd36/Files/veriskPipeline
