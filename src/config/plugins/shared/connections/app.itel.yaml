# =============================================================================
# iTel Cabinet API Connection Configuration
# =============================================================================
# HTTP connection configuration for iTel Cabinet API integration.
# Uses OAuth2 client credentials flow for authentication.
#
# Required Environment Variables:
#   - ITEL_CABINET_API_BASE_URL: iTel Cabinet API base URL
#   - ITEL_CABINET_API_CLIENT_ID: OAuth2 client ID
#   - ITEL_CABINET_API_CLIENT_CREDENTIAL: OAuth2 client credential
#   - ITEL_CABINET_API_TOKEN_URL: OAuth2 token endpoint URL
#   - ITEL_CABINET_API_SCOPE: OAuth2 scope
#
# Related Files:
#   - config/plugins/claimx/itel_cabinet_api/workers.yaml - Worker using this connection
#   - pipeline/plugins/itel_cabinet_api/handlers/itel_api_sender.py - Handler implementation
# =============================================================================

connections:
  itel_cabinet_api:
    name: itel_cabinet_api
    base_url: ${ITEL_CABINET_API_BASE_URL}
    endpoint: ${ITEL_CABINET_API_ENDPOINT:-}
    method: ${ITEL_CABINET_API_METHOD:-POST}
    auth_type: oauth2
    oauth2:
      grant_type: client_credentials
      client_id: ${ITEL_CABINET_API_CLIENT_ID}
      client_credential: ${ITEL_CABINET_API_CLIENT_CREDENTIAL}
      token_url: ${ITEL_CABINET_API_TOKEN_URL}
      scope: ${ITEL_CABINET_API_SCOPE}
    timeout_seconds: 45
    connect_timeout_seconds: 10
    max_retries: 3
    retry_backoff_base: 2
    retry_backoff_max: 90
    headers:
      User-Agent: ClaimXPipeline-iTel/1.0
      Accept: application/json
      Content-Type: application/json
